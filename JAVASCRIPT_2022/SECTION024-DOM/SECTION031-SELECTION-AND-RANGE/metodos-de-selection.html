<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>

    <p id="p">Selecione aqui: <i>itálico</i> e <b>negrito</b></p>

    <!--
    no de elemento como um todo
    <p id="p">       no de elemento completo <p>
        Selecione aqui:     no de texto com indice 0 como numero filho <p>
        <i>          no de elemento com indice 1 como numero filho <p>
            itálico  no de texto como numero filho 0 de <i>
        </i>    
        e            no de texto com indice 2 como numero filho <p>
        <b>          no de elemento com indice 3 como numero filho <p>
            negrito  no de texto como numero filho 0 de <b>
        </b>
    </p>
    -->

    <script type="text/javascript">
        /**
         * * MÉTODOS DE SELEÇÃO
         * 
         * Podemos trabalhar com a seleção adicionando/removendo intervalos(RANGE):
         * 
            * getRangeAt(i)– obter o i-ésimo intervalo, a partir de 0. Em todos os navegadores, exceto Firefox, apenas 0 é usado.
            * 
            * addRange(range) – adicionar range à seleção. Todos os navegadores, exceto o Firefox, ignoram a chamada, se a seleção já tiver um intervalo associado.
            * 
            * removeRange(range) – remover range da seleção.
            * 
            * removeAllRanges() – remova todos os intervalos.
            * 
            * empty() – aliás para removeAllRanges.
            * 
         * Existem também métodos de conveniência para manipular o intervalo de seleção diretamente, sem Range chamadas intermediárias:
         * 
            * collapse(node, offset) – substitua o intervalo selecionado por um novo que comece e termine no dado node, na posição offset. 
            * 
            * setPosition(node, offset)– aliás para collapse.
            * 
            * collapseToStart() – recolher (substituir por um intervalo vazio) para iniciar a seleção,
            * 
            * collapseToEnd()– recolher para o final da seleção,
            * 
            * extend(node, offset)– move o foco da seleção para o dado node, position offset,
            * 
            * setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset) – substitua o intervalo de seleção pelo início anchorNode/anchorOffset e fim fornecidos
            * 
            * focusNode/focusOffset. Todo o conteúdo entre eles é selecionado.
            * 
            * selectAllChildren(node)– selecione todos os filhos do node.
            * 
            * deleteFromDocument()– remova o conteúdo selecionado do documento.
            * 
            * containsNode(node, allowPartialContainment = false)– verifica se a seleção contém node(parcialmente se o segundo argumento for true)
            * 
         * Para a maioria das tarefas, esses métodos funcionam bem, não há necessidade de acessar o Range objeto subjacente.
         * 
         *Por exemplo, selecionando todo o conteúdo do parágrafo <p>:
        */

        //selecione do 0º filho de <p> até o último filho

        //document.getSelection() -> obtem o objeto selection
        //document.getSelection().setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset)  -> substitua o intervalo de seleção pelo início anchorNode/anchorOffset e fim fornecidos
        //susbtitui a seleção anterior pela atual
        //selecinando o conteudo de p
        document.getSelection().setBaseAndExtent(p, 0, p, p.childNodes.length);

    </script>
</body>
</html>