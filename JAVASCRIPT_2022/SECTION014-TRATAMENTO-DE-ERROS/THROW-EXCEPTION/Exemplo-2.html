<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <title>Exemplo da instrução throw</title>
</head>
<body>

    <script>

        /**
         * * EXEMPLOS DE LANÇAMENTO(THROW) DE EXCEÇÃO DE JS
         * 
         * Vamos dar alguns exemplos de uso da throw declaração.
         * 
         * * 2) USANDO A INSTRUÇÃO THROW DO JS PARA LANÇAR UMA INSTÂNCIA DA CLASSE ERROR
         * 
         * No exemplo a seguir, lançamos uma instância da Error classe em vez de uma string na add()função;
        */

        //declara uma function chamada add que declara dois paramentros chamados x e y
        function add(x, y) {
            //se o tipo de dado do argumento x não for number
            if(typeof x !== 'number') {
                //lança uma exceção, o valor da exceção e uma instancia de objeto anonima da class Error
                //o mecanismo JS para a execução e passa o controle para o primeiro bloco catch encontrado na pilha de chamadas, se não exisitir nenhum bloco catch o Js encerra a execução do script
                throw new Error('O primeiro argumento deve ser um número');
            }
            if(typeof y !== 'number') {
                //lança uma exceção, o valor da exceção e uma instancia anonima de objeto da class Error
                throw new Error('O segundo argumento deve ser um número');
            }

            return x + y;
        }


        //usando a instrução try...catch para lidar com erros e exceeções e manipulalos
        try{
            //o codigo que gera o erro vai aqui
            //invoca a function add, passando dois argumentos, o primeiro argumento e uma string literal o segundo e um valor numerico 10, passar um argumento que não seja do tipo number faz a function lançar um exceção, de proposito passaremos uma argumento de tipo string literal para que seje lançado uma exceção para ser tratada no bloco catch
            const result = add('a', 10);
            console.log(result);
        }catch(e) {
            //a logica de tratamento do erro vai aqui
            //usando o indentificador de exceção a variavel e recebe o objeto de exceção lançado no bloco try, que e uma instancia de objeto anonima da class Error 
            //usando a propriedades do objeto de exceção para obter mais detalhes do erro e exceção gerados
            console.log(e.name, ':', e.message);
        }

        /**
         * Conforme mostrado na saída, o objeto de exceção no catch bloco tem o name as Error e o message como aquele que passamos para o Error()construtor.
        */

        /**
         * Neste exemplo, colocamos a chamada para a add() função em um try bloco. Como expression na throw instrução é uma string, a exceção no catch bloco é uma string conforme mostrado na saída.
        */
       
    </script>

</body>
</html>